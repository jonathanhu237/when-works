"/users":
  get:
    tags:
      - User Management
    summary: "List all users"
    description: "Retrieves a list of all users."
    responses:
      "200":
        description: "A list of users."
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../components/schemas/user.yaml#/User"
      "401":
        description: "Unauthorized"
  post:
    tags:
      - "User Management"
    summary: "Create a new user"
    description: "Adds a new user to the system."
    requestBody:
      description: "The user to create."
      required: true
      content:
        application/json:
          schema:
            $ref: "../components/schemas/user.yaml#/NewUser"
    responses:
      "201":
        description: "User created successfully."
        content:
          application/json:
            schema:
              $ref: "../components/schemas/user.yaml#/User"
      "400":
        description: "Invalid input provided."
      "401":
        description: "Unauthorized"

"/users/{userId}":
  parameters:
    - name: "userId"
      in: "path"
      required: true
      description: "The UUID of the user to perform operations on."
      schema:
        type: "string"
        format: "uuid"

  get:
    tags:
      - "User Management"
    summary: "Get user by ID"
    description: "Retrieves a single user by their ID."
    security:
      - bearerAuth: []
    responses:
      "200":
        description: "Successful operation."
        content:
          application/json:
            schema:
              $ref: "../components/schemas/user.yaml#/User"
      "401":
        description: "Unauthorized"
      "404":
        description: "User not found."

  put:
    tags:
      - "User Management"
    summary: "Update an existing user"
    description: "Updates an existing user. Requires admin privileges or the user must be updating their own information."
    security:
      - bearerAuth: []
    requestBody:
      description: "The fields to update for the user."
      required: true
      content:
        application/json:
          schema:
            $ref: "../components/schemas/user.yaml#/UpdateUser"
    responses:
      "200":
        description: "User updated successfully."
        content:
          application/json:
            schema:
              $ref: "../components/schemas/user.yaml#/User"
      "400":
        description: "Invalid input provided."
      "401":
        description: "Unauthorized"
      "404":
        description: "User not found."

  delete:
    tags:
      - "User Management"
    summary: "Delete a user"
    description: "Deletes a user by their ID. Requires admin privileges."
    security:
      - bearerAuth: []
    responses:
      "204":
        description: "User deleted successfully."
      "401":
        description: "Unauthorized"
      "404":
        description: "User not found."